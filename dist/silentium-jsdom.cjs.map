{"version":3,"file":"silentium-jsdom.cjs","sources":["../src/JSDomDocument.ts","../src/JSDomElement.ts"],"sourcesContent":["import { JSDOM } from \"jsdom\";\nimport { give, guestCast, GuestType, SourceType, value } from \"silentium\";\n\n/**\n * Helps to get Document from html string\n */\nexport const jsdomDocument = (\n  body: SourceType<string> = \"\",\n): SourceType<Document> => {\n  return (g: GuestType<Document>) => {\n    value(\n      body,\n      guestCast(g, (body) => {\n        give(\n          new JSDOM(`<!DOCTYPE html><body>${body}</body></html>`).window\n            .document,\n          g,\n        );\n      }),\n    );\n  };\n};\n","import {\n  patron,\n  sourceAll,\n  sourceChangeable,\n  SourceType,\n  value,\n} from \"silentium\";\n\n/**\n * Helps to get HTMLElement from html string\n */\nexport const jsDomElement = (\n  documentSrc: SourceType<Document>,\n  htmlSrc: SourceType<string>,\n) => {\n  const result = sourceChangeable<HTMLElement>();\n  const all = sourceAll<[Document, string]>([documentSrc, htmlSrc]);\n\n  value(\n    all,\n    patron(([document, html]) => {\n      const div = document.createElement(\"div\");\n      div.innerHTML = html;\n      result.give(div.children[0] as HTMLElement);\n    }),\n  );\n\n  return result;\n};\n"],"names":["value","guestCast","body","give","JSDOM","sourceChangeable","sourceAll","patron"],"mappings":";;;;;AAMa,MAAA,aAAA,GAAgB,CAC3B,IAAA,GAA2B,EACF,KAAA;AACzB,EAAA,OAAO,CAAC,CAA2B,KAAA;AACjC,IAAAA,eAAA;AAAA,MACE,IAAA;AAAA,MACAC,mBAAA,CAAU,CAAG,EAAA,CAACC,KAAS,KAAA;AACrB,QAAAC,cAAA;AAAA,UACE,IAAIC,WAAM,CAAA,CAAA,qBAAA,EAAwBF,KAAI,CAAA,cAAA,CAAgB,EAAE,MACrD,CAAA,QAAA;AAAA,UACH;AAAA,SACF;AAAA,OACD;AAAA,KACH;AAAA,GACF;AACF;;ACVa,MAAA,YAAA,GAAe,CAC1B,WAAA,EACA,OACG,KAAA;AACH,EAAA,MAAM,SAASG,0BAA8B,EAAA;AAC7C,EAAA,MAAM,GAAM,GAAAC,mBAAA,CAA8B,CAAC,WAAA,EAAa,OAAO,CAAC,CAAA;AAEhE,EAAAN,eAAA;AAAA,IACE,GAAA;AAAA,IACAO,gBAAO,CAAA,CAAC,CAAC,QAAA,EAAU,IAAI,CAAM,KAAA;AAC3B,MAAM,MAAA,GAAA,GAAM,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA;AACxC,MAAA,GAAA,CAAI,SAAY,GAAA,IAAA;AAChB,MAAA,MAAA,CAAO,IAAK,CAAA,GAAA,CAAI,QAAS,CAAA,CAAC,CAAgB,CAAA;AAAA,KAC3C;AAAA,GACH;AAEA,EAAO,OAAA,MAAA;AACT;;;;;"}